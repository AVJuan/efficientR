<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Efficient R programming</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Efficient R Programming is about increasing the amount of work you can do with R in a given amount of time. It’s about both computational and programmer efficiency.">
  <meta name="generator" content="bookdown 0.0.74 and GitBook 2.6.7">

  <meta property="og:title" content="Efficient R programming" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://csgillespie.github.io/efficientR/" />
  <meta property="og:image" content="https://csgillespie.github.io/efficientR/figures/full.png" />
  <meta property="og:description" content="Efficient R Programming is about increasing the amount of work you can do with R in a given amount of time. It’s about both computational and programmer efficiency." />
  <meta name="github-repo" content="csgillespie/efficientR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Efficient R programming" />
  <meta name="twitter:site" content="@csgillespie" />
  <meta name="twitter:description" content="Efficient R Programming is about increasing the amount of work you can do with R in a given amount of time. It’s about both computational and programmer efficiency." />
  <meta name="twitter:image" content="https://csgillespie.github.io/efficientR/figures/full.png" />

<meta name="author" content="Colin Gillespie">
<meta name="author" content="Robin Lovelace">

<meta name="date" content="2016-07-04">

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="hardware.html">
<link rel="next" href="efficient-learning.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Efficient R programming</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to Efficient R Programming</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authors"><i class="fa fa-check"></i>Authors</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#who-this-book-is-for"><i class="fa fa-check"></i><b>1.1</b> Who this book is for</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-is-efficiency"><i class="fa fa-check"></i><b>1.2</b> What is efficiency?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#why-efficiency"><i class="fa fa-check"></i><b>1.3</b> Why efficiency?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#what-is-efficient-r-programming"><i class="fa fa-check"></i><b>1.4</b> What is efficient R programming?</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#touch-typing"><i class="fa fa-check"></i><b>1.5</b> Touch typing</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#benchmarking"><i class="fa fa-check"></i><b>1.6</b> Benchmarking</a><ul>
<li class="chapter" data-level="1.6.1" data-path="introduction.html"><a href="introduction.html#benchmarking-example"><i class="fa fa-check"></i><b>1.6.1</b> Benchmarking example</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#profiling"><i class="fa fa-check"></i><b>1.7</b> Profiling</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="efficient-set-up.html"><a href="efficient-set-up.html"><i class="fa fa-check"></i><b>2</b> Efficient set-up</a><ul>
<li class="chapter" data-level="2.1" data-path="efficient-set-up.html"><a href="efficient-set-up.html#top-5-tips-for-an-efficient-r-set-up"><i class="fa fa-check"></i><b>2.1</b> Top 5 tips for an efficient R set-up</a></li>
<li class="chapter" data-level="2.2" data-path="efficient-set-up.html"><a href="efficient-set-up.html#operating-system"><i class="fa fa-check"></i><b>2.2</b> Operating system</a><ul>
<li class="chapter" data-level="2.2.1" data-path="efficient-set-up.html"><a href="efficient-set-up.html#operating-system-and-resource-monitoring"><i class="fa fa-check"></i><b>2.2.1</b> Operating system and resource monitoring</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="efficient-set-up.html"><a href="efficient-set-up.html#r-version"><i class="fa fa-check"></i><b>2.3</b> R version</a><ul>
<li class="chapter" data-level="2.3.1" data-path="efficient-set-up.html"><a href="efficient-set-up.html#installing-r"><i class="fa fa-check"></i><b>2.3.1</b> Installing R</a></li>
<li class="chapter" data-level="2.3.2" data-path="efficient-set-up.html"><a href="efficient-set-up.html#updating-r"><i class="fa fa-check"></i><b>2.3.2</b> Updating R</a></li>
<li class="chapter" data-level="2.3.3" data-path="efficient-set-up.html"><a href="efficient-set-up.html#installing-r-packages"><i class="fa fa-check"></i><b>2.3.3</b> Installing R packages</a></li>
<li class="chapter" data-level="2.3.4" data-path="efficient-set-up.html"><a href="efficient-set-up.html#deps"><i class="fa fa-check"></i><b>2.3.4</b> Installing R packages with dependencies</a></li>
<li class="chapter" data-level="2.3.5" data-path="efficient-set-up.html"><a href="efficient-set-up.html#updating-r-packages"><i class="fa fa-check"></i><b>2.3.5</b> Updating R packages</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="efficient-set-up.html"><a href="efficient-set-up.html#r-startup"><i class="fa fa-check"></i><b>2.4</b> R startup</a><ul>
<li class="chapter" data-level="2.4.1" data-path="efficient-set-up.html"><a href="efficient-set-up.html#r-startup-arguments"><i class="fa fa-check"></i><b>2.4.1</b> R startup arguments</a></li>
<li class="chapter" data-level="2.4.2" data-path="efficient-set-up.html"><a href="efficient-set-up.html#an-overview-of-rs-startup-files"><i class="fa fa-check"></i><b>2.4.2</b> An overview of R’s startup files</a></li>
<li class="chapter" data-level="2.4.3" data-path="efficient-set-up.html"><a href="efficient-set-up.html#the-location-of-startup-files"><i class="fa fa-check"></i><b>2.4.3</b> The location of startup files</a></li>
<li class="chapter" data-level="2.4.4" data-path="efficient-set-up.html"><a href="efficient-set-up.html#rprofile"><i class="fa fa-check"></i><b>2.4.4</b> The <code>.Rprofile</code> file</a></li>
<li class="chapter" data-level="2.4.5" data-path="efficient-set-up.html"><a href="efficient-set-up.html#an-example-.rprofile-file"><i class="fa fa-check"></i><b>2.4.5</b> An example <code>.Rprofile</code> file</a></li>
<li class="chapter" data-level="2.4.6" data-path="efficient-set-up.html"><a href="efficient-set-up.html#renviron"><i class="fa fa-check"></i><b>2.4.6</b> The <code>.Renviron</code> file</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="efficient-set-up.html"><a href="efficient-set-up.html#rstudio"><i class="fa fa-check"></i><b>2.5</b> RStudio</a><ul>
<li class="chapter" data-level="2.5.1" data-path="efficient-set-up.html"><a href="efficient-set-up.html#install-rstudio"><i class="fa fa-check"></i><b>2.5.1</b> Installing and updating RStudio</a></li>
<li class="chapter" data-level="2.5.2" data-path="efficient-set-up.html"><a href="efficient-set-up.html#window-pane-layout"><i class="fa fa-check"></i><b>2.5.2</b> Window pane layout</a></li>
<li class="chapter" data-level="2.5.3" data-path="efficient-set-up.html"><a href="efficient-set-up.html#exercises-3"><i class="fa fa-check"></i><b>2.5.3</b> Exercises</a></li>
<li class="chapter" data-level="2.5.4" data-path="efficient-set-up.html"><a href="efficient-set-up.html#rstudio-options"><i class="fa fa-check"></i><b>2.5.4</b> RStudio options</a></li>
<li class="chapter" data-level="2.5.5" data-path="efficient-set-up.html"><a href="efficient-set-up.html#autocompletion"><i class="fa fa-check"></i><b>2.5.5</b> Autocompletion</a></li>
<li class="chapter" data-level="2.5.6" data-path="efficient-set-up.html"><a href="efficient-set-up.html#keyboard-shortcuts"><i class="fa fa-check"></i><b>2.5.6</b> Keyboard shortcuts</a></li>
<li class="chapter" data-level="2.5.7" data-path="efficient-set-up.html"><a href="efficient-set-up.html#object-display-and-output-table"><i class="fa fa-check"></i><b>2.5.7</b> Object display and output table</a></li>
<li class="chapter" data-level="2.5.8" data-path="efficient-set-up.html"><a href="efficient-set-up.html#project-management"><i class="fa fa-check"></i><b>2.5.8</b> Project management</a></li>
<li class="chapter" data-level="2.5.9" data-path="efficient-set-up.html"><a href="efficient-set-up.html#exercises-4"><i class="fa fa-check"></i><b>2.5.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="efficient-set-up.html"><a href="efficient-set-up.html#blas-and-alternative-r-interpreters"><i class="fa fa-check"></i><b>2.6</b> BLAS and alternative R interpreters</a><ul>
<li class="chapter" data-level="2.6.1" data-path="efficient-set-up.html"><a href="efficient-set-up.html#testing-performance-gains-from-blas"><i class="fa fa-check"></i><b>2.6.1</b> Testing performance gains from BLAS</a></li>
<li class="chapter" data-level="2.6.2" data-path="efficient-set-up.html"><a href="efficient-set-up.html#revolution-r"><i class="fa fa-check"></i><b>2.6.2</b> Revolution R</a></li>
<li class="chapter" data-level="2.6.3" data-path="efficient-set-up.html"><a href="efficient-set-up.html#other-interpreters"><i class="fa fa-check"></i><b>2.6.3</b> Other interpreters</a></li>
<li class="chapter" data-level="2.6.4" data-path="efficient-set-up.html"><a href="efficient-set-up.html#useful-blasbenchmarking-resources"><i class="fa fa-check"></i><b>2.6.4</b> Useful BLAS/benchmarking resources</a></li>
<li class="chapter" data-level="2.6.5" data-path="efficient-set-up.html"><a href="efficient-set-up.html#exercises-5"><i class="fa fa-check"></i><b>2.6.5</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="programming.html"><a href="programming.html"><i class="fa fa-check"></i><b>3</b> Efficient programming</a><ul>
<li class="chapter" data-level="3.1" data-path="programming.html"><a href="programming.html#general-advice"><i class="fa fa-check"></i><b>3.1</b> General advice</a><ul>
<li class="chapter" data-level="3.1.1" data-path="programming.html"><a href="programming.html#memory-allocation"><i class="fa fa-check"></i><b>3.1.1</b> Memory allocation</a></li>
<li class="chapter" data-level="3.1.2" data-path="programming.html"><a href="programming.html#vectorised-code"><i class="fa fa-check"></i><b>3.1.2</b> Vectorised code</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#exercise-1"><i class="fa fa-check"></i>Exercise</a></li>
<li class="chapter" data-level="3.1.3" data-path="programming.html"><a href="programming.html#type-consistency"><i class="fa fa-check"></i><b>3.1.3</b> Type consistency</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="programming.html"><a href="programming.html#communicating-with-the-user"><i class="fa fa-check"></i><b>3.2</b> Communicating with the user</a><ul>
<li class="chapter" data-level="3.2.1" data-path="programming.html"><a href="programming.html#fatal-errors-stop"><i class="fa fa-check"></i><b>3.2.1</b> Fatal errors: <code class="unnumbered">stop</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="programming.html"><a href="programming.html#warnings-warning"><i class="fa fa-check"></i><b>3.2.2</b> Warnings: <code class="unnumbered">warning</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="programming.html"><a href="programming.html#informative-output-message-and-cat"><i class="fa fa-check"></i><b>3.2.3</b> Informative output: <code>message</code> and <code class="unnumbered">cat</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="programming.html"><a href="programming.html#example-retrieving-a-web-resource"><i class="fa fa-check"></i><b>3.2.4</b> Example: Retrieving a web resource</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#exercises-8"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="3.2.5" data-path="programming.html"><a href="programming.html#invisible-returns"><i class="fa fa-check"></i><b>3.2.5</b> Invisible returns</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="programming.html"><a href="programming.html#factors"><i class="fa fa-check"></i><b>3.3</b> Factors</a><ul>
<li class="chapter" data-level="3.3.1" data-path="programming.html"><a href="programming.html#example-months-of-the-year"><i class="fa fa-check"></i><b>3.3.1</b> Example: Months of the year</a></li>
<li class="chapter" data-level="3.3.2" data-path="programming.html"><a href="programming.html#example-graphics"><i class="fa fa-check"></i><b>3.3.2</b> Example: Graphics</a></li>
<li class="chapter" data-level="3.3.3" data-path="programming.html"><a href="programming.html#example-analysis-of-variance"><i class="fa fa-check"></i><b>3.3.3</b> Example: Analysis of variance</a></li>
<li class="chapter" data-level="3.3.4" data-path="programming.html"><a href="programming.html#example-data-input"><i class="fa fa-check"></i><b>3.3.4</b> Example: data input</a></li>
<li class="chapter" data-level="3.3.5" data-path="programming.html"><a href="programming.html#example-factors-are-not-character-vectors"><i class="fa fa-check"></i><b>3.3.5</b> Example: Factors are not character vectors</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="programming.html"><a href="programming.html#S3"><i class="fa fa-check"></i><b>3.4</b> S3 objects</a></li>
<li class="chapter" data-level="3.5" data-path="programming.html"><a href="programming.html#caching-variables"><i class="fa fa-check"></i><b>3.5</b> Caching variables</a><ul>
<li class="chapter" data-level="3.5.1" data-path="programming.html"><a href="programming.html#function-closures"><i class="fa fa-check"></i><b>3.5.1</b> Function closures</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="programming.html"><a href="programming.html#the-byte-compiler"><i class="fa fa-check"></i><b>3.6</b> The byte compiler</a><ul>
<li class="chapter" data-level="3.6.1" data-path="programming.html"><a href="programming.html#example-the-mean-function"><i class="fa fa-check"></i><b>3.6.1</b> Example: the mean function</a></li>
<li class="chapter" data-level="3.6.2" data-path="programming.html"><a href="programming.html#compiling-code"><i class="fa fa-check"></i><b>3.6.2</b> Compiling code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="efficient-workflow.html"><a href="efficient-workflow.html"><i class="fa fa-check"></i><b>4</b> Efficient workflow</a><ul>
<li class="chapter" data-level="4.1" data-path="efficient-workflow.html"><a href="efficient-workflow.html#top-5-tips-for-efficient-workflow"><i class="fa fa-check"></i><b>4.1</b> Top 5 tips for efficient workflow</a></li>
<li class="chapter" data-level="4.2" data-path="efficient-workflow.html"><a href="efficient-workflow.html#a-project-planning-typology"><i class="fa fa-check"></i><b>4.2</b> A project planning typology</a></li>
<li class="chapter" data-level="4.3" data-path="efficient-workflow.html"><a href="efficient-workflow.html#project-planning-and-management"><i class="fa fa-check"></i><b>4.3</b> Project planning and management</a><ul>
<li class="chapter" data-level="4.3.1" data-path="efficient-workflow.html"><a href="efficient-workflow.html#chunking-your-work"><i class="fa fa-check"></i><b>4.3.1</b> ‘Chunking’ your work</a></li>
<li class="chapter" data-level="4.3.2" data-path="efficient-workflow.html"><a href="efficient-workflow.html#smart"><i class="fa fa-check"></i><b>4.3.2</b> Making your workflow SMART</a></li>
<li class="chapter" data-level="4.3.3" data-path="efficient-workflow.html"><a href="efficient-workflow.html#visualising-plans-with-r"><i class="fa fa-check"></i><b>4.3.3</b> Visualising plans with R</a></li>
<li class="chapter" data-level="4.3.4" data-path="efficient-workflow.html"><a href="efficient-workflow.html#exercises-10"><i class="fa fa-check"></i><b>4.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="efficient-workflow.html"><a href="efficient-workflow.html#package-selection"><i class="fa fa-check"></i><b>4.4</b> Package selection</a><ul>
<li class="chapter" data-level="4.4.1" data-path="efficient-workflow.html"><a href="efficient-workflow.html#searching-for-r-packages"><i class="fa fa-check"></i><b>4.4.1</b> Searching for R packages</a></li>
<li class="chapter" data-level="4.4.2" data-path="efficient-workflow.html"><a href="efficient-workflow.html#how-to-select-a-package"><i class="fa fa-check"></i><b>4.4.2</b> How to select a package</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="efficient-workflow.html"><a href="efficient-workflow.html#publication"><i class="fa fa-check"></i><b>4.5</b> Publication</a><ul>
<li class="chapter" data-level="4.5.1" data-path="efficient-workflow.html"><a href="efficient-workflow.html#dynamic-documents-with-knitr"><i class="fa fa-check"></i><b>4.5.1</b> Dynamic documents with knitr</a></li>
<li class="chapter" data-level="4.5.2" data-path="efficient-workflow.html"><a href="efficient-workflow.html#r-packages"><i class="fa fa-check"></i><b>4.5.2</b> R packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html"><i class="fa fa-check"></i><b>5</b> Efficient input/output</a><ul>
<li class="chapter" data-level="5.1" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html#top-5-tips-for-efficient-data-io"><i class="fa fa-check"></i><b>5.1</b> Top 5 tips for efficient data I/O</a></li>
<li class="chapter" data-level="5.2" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html#getting-data-from-the-internet"><i class="fa fa-check"></i><b>5.2</b> Getting data from the internet</a></li>
<li class="chapter" data-level="5.3" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html#versatile-data-import-with-rio"><i class="fa fa-check"></i><b>5.3</b> Versatile data import with rio</a><ul>
<li class="chapter" data-level="" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html#exercises-11"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html#accessing-data-stored-in-packages"><i class="fa fa-check"></i><b>5.4</b> Accessing data stored in packages</a></li>
<li class="chapter" data-level="5.5" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html#the-feather-file-format"><i class="fa fa-check"></i><b>5.5</b> The feather file format</a></li>
<li class="chapter" data-level="5.6" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html#efficient-data-export-.rdata-or-.rds"><i class="fa fa-check"></i><b>5.6</b> Efficient data export: .Rdata or .Rds?</a></li>
<li class="chapter" data-level="5.7" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html#a-benchmark-of-methods-for-file-import-and-export"><i class="fa fa-check"></i><b>5.7</b> A benchmark of methods for file import and export</a></li>
<li class="chapter" data-level="5.8" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html#fread"><i class="fa fa-check"></i><b>5.8</b> Fast import of plain text formats</a><ul>
<li class="chapter" data-level="5.8.1" data-path="efficient-inputoutput.html"><a href="efficient-inputoutput.html#preprocessing-outside-r"><i class="fa fa-check"></i><b>5.8.1</b> Preprocessing outside R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html"><i class="fa fa-check"></i><b>6</b> Efficient data carpentry</a><ul>
<li class="chapter" data-level="6.1" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#top-5-tips-for-efficient-data-carpentry"><i class="fa fa-check"></i><b>6.1</b> Top 5 tips for efficient data carpentry</a></li>
<li class="chapter" data-level="6.2" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#tidying-data-with-tidyr"><i class="fa fa-check"></i><b>6.2</b> Tidying data with tidyr</a></li>
<li class="chapter" data-level="6.3" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#efficient-data-frames-with-tibble"><i class="fa fa-check"></i><b>6.3</b> Efficient data frames with tibble</a></li>
<li class="chapter" data-level="6.4" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#dplyr"><i class="fa fa-check"></i><b>6.4</b> Efficient data processing with dplyr</a><ul>
<li class="chapter" data-level="6.4.1" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#renaming-columns"><i class="fa fa-check"></i><b>6.4.1</b> Renaming columns</a></li>
<li class="chapter" data-level="6.4.2" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#changing-column-classes"><i class="fa fa-check"></i><b>6.4.2</b> Changing column classes</a></li>
<li class="chapter" data-level="6.4.3" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#filtering-rows"><i class="fa fa-check"></i><b>6.4.3</b> Filtering rows</a></li>
<li class="chapter" data-level="6.4.4" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#filtering-columns"><i class="fa fa-check"></i><b>6.4.4</b> Filtering columns</a></li>
<li class="chapter" data-level="6.4.5" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#data-aggregation"><i class="fa fa-check"></i><b>6.4.5</b> Data aggregation</a></li>
<li class="chapter" data-level="6.4.6" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#chaining-operations"><i class="fa fa-check"></i><b>6.4.6</b> Chaining operations</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#combining-datasets"><i class="fa fa-check"></i><b>6.5</b> Combining datasets</a></li>
<li class="chapter" data-level="6.6" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#working-with-databases"><i class="fa fa-check"></i><b>6.6</b> Working with databases</a></li>
<li class="chapter" data-level="6.7" data-path="efficient-data-carpentry.html"><a href="efficient-data-carpentry.html#data-processing-with-data.table"><i class="fa fa-check"></i><b>6.7</b> Data processing with data.table</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="efficient-visualisation.html"><a href="efficient-visualisation.html"><i class="fa fa-check"></i><b>7</b> Efficient visualisation</a><ul>
<li class="chapter" data-level="7.1" data-path="efficient-visualisation.html"><a href="efficient-visualisation.html#rough-outline"><i class="fa fa-check"></i><b>7.1</b> Rough outline</a></li>
<li class="chapter" data-level="7.2" data-path="efficient-visualisation.html"><a href="efficient-visualisation.html#cairo-type"><i class="fa fa-check"></i><b>7.2</b> Cairo type</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="efficient-performance.html"><a href="efficient-performance.html"><i class="fa fa-check"></i><b>8</b> Efficient performance</a><ul>
<li class="chapter" data-level="8.1" data-path="efficient-performance.html"><a href="efficient-performance.html#top-5-tips-for-efficient-performance"><i class="fa fa-check"></i><b>8.1</b> Top 5 tips for efficient performance</a></li>
<li class="chapter" data-level="8.2" data-path="efficient-performance.html"><a href="efficient-performance.html#efficient-base-r"><i class="fa fa-check"></i><b>8.2</b> Efficient base R</a><ul>
<li><a href="efficient-performance.html#the-if-vs-ifelse-functions">The <code>if</code> vs <code>ifelse</code> functions</a></li>
<li class="chapter" data-level="" data-path="efficient-performance.html"><a href="efficient-performance.html#sorting-and-ordering"><i class="fa fa-check"></i>Sorting and ordering</a></li>
<li class="chapter" data-level="" data-path="efficient-performance.html"><a href="efficient-performance.html#reversing-elements"><i class="fa fa-check"></i>Reversing elements</a></li>
<li><a href="efficient-performance.html#which-indices-are-true">Which indices are <code>TRUE</code>  </a></li>
<li class="chapter" data-level="" data-path="efficient-performance.html"><a href="efficient-performance.html#converting-factors-to-numerics"><i class="fa fa-check"></i>Converting factors to numerics</a></li>
<li class="chapter" data-level="" data-path="efficient-performance.html"><a href="efficient-performance.html#string-concatenation"><i class="fa fa-check"></i>String concatenation</a></li>
<li class="chapter" data-level="" data-path="efficient-performance.html"><a href="efficient-performance.html#logical-and-and-or"><i class="fa fa-check"></i>Logical AND and OR</a></li>
<li class="chapter" data-level="" data-path="efficient-performance.html"><a href="efficient-performance.html#row-and-column-operations"><i class="fa fa-check"></i>Row and column operations</a></li>
<li><a href="efficient-performance.html#is.na-and-anyna"><code>is.na</code> and <code>anyNA</code>  </a></li>
<li class="chapter" data-level="" data-path="efficient-performance.html"><a href="efficient-performance.html#matrices"><i class="fa fa-check"></i>Matrices</a></li>
<li class="chapter" data-level="" data-path="efficient-performance.html"><a href="efficient-performance.html#the-integer-data-type"><i class="fa fa-check"></i>The integer data type</a></li>
<li class="chapter" data-level="" data-path="efficient-performance.html"><a href="efficient-performance.html#sparse-matrices"><i class="fa fa-check"></i>Sparse matrices</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="efficient-performance.html"><a href="efficient-performance.html#code-profiling"><i class="fa fa-check"></i><b>8.3</b> Code profiling</a><ul>
<li class="chapter" data-level="8.3.1" data-path="efficient-performance.html"><a href="efficient-performance.html#getting-started-with-profvis"><i class="fa fa-check"></i><b>8.3.1</b> Getting started with <strong>profvis</strong></a></li>
<li class="chapter" data-level="8.3.2" data-path="efficient-performance.html"><a href="efficient-performance.html#example-monopoly-simulation"><i class="fa fa-check"></i><b>8.3.2</b> Example: Monopoly Simulation</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="efficient-performance.html"><a href="efficient-performance.html#parallel-computing"><i class="fa fa-check"></i><b>8.4</b> Parallel computing</a><ul>
<li class="chapter" data-level="8.4.1" data-path="efficient-performance.html"><a href="efficient-performance.html#parallel-versions-of-apply-functions"><i class="fa fa-check"></i><b>8.4.1</b> Parallel versions of apply functions</a></li>
<li class="chapter" data-level="8.4.2" data-path="efficient-performance.html"><a href="efficient-performance.html#example-snakes-and-ladders"><i class="fa fa-check"></i><b>8.4.2</b> Example: Snakes and Ladders</a></li>
<li class="chapter" data-level="8.4.3" data-path="efficient-performance.html"><a href="efficient-performance.html#exit-functions-with-care"><i class="fa fa-check"></i><b>8.4.3</b> Exit functions with care</a></li>
<li class="chapter" data-level="8.4.4" data-path="efficient-performance.html"><a href="efficient-performance.html#process-forking"><i class="fa fa-check"></i><b>8.4.4</b> Process forking</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="efficient-performance.html"><a href="efficient-performance.html#rcpp"><i class="fa fa-check"></i><b>8.5</b> Rcpp</a><ul>
<li class="chapter" data-level="8.5.1" data-path="efficient-performance.html"><a href="efficient-performance.html#pre-requisites"><i class="fa fa-check"></i><b>8.5.1</b> Pre-requisites</a></li>
<li class="chapter" data-level="8.5.2" data-path="efficient-performance.html"><a href="efficient-performance.html#simple-c"><i class="fa fa-check"></i><b>8.5.2</b> A simple C++ function</a></li>
<li class="chapter" data-level="8.5.3" data-path="efficient-performance.html"><a href="efficient-performance.html#cppfunction"><i class="fa fa-check"></i><b>8.5.3</b> The cppFunction command</a></li>
<li class="chapter" data-level="8.5.4" data-path="efficient-performance.html"><a href="efficient-performance.html#c-types"><i class="fa fa-check"></i><b>8.5.4</b> C++ data types</a></li>
<li class="chapter" data-level="8.5.5" data-path="efficient-performance.html"><a href="efficient-performance.html#sourcecpp"><i class="fa fa-check"></i><b>8.5.5</b> The <code>sourceCpp</code> function</a></li>
<li class="chapter" data-level="8.5.6" data-path="efficient-performance.html"><a href="efficient-performance.html#vectors-and-loops"><i class="fa fa-check"></i><b>8.5.6</b> Vectors and loops</a></li>
<li class="chapter" data-level="8.5.7" data-path="efficient-performance.html"><a href="efficient-performance.html#sugar"><i class="fa fa-check"></i><b>8.5.7</b> C++ with sugar on top</a></li>
<li class="chapter" data-level="8.5.8" data-path="efficient-performance.html"><a href="efficient-performance.html#rcpp-resources"><i class="fa fa-check"></i><b>8.5.8</b> Rcpp resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="hardware.html"><a href="hardware.html"><i class="fa fa-check"></i><b>9</b> Efficient hardware</a><ul>
<li class="chapter" data-level="9.1" data-path="hardware.html"><a href="hardware.html#top-5-tips-for-efficient-hardware"><i class="fa fa-check"></i><b>9.1</b> Top 5 tips for efficient hardware</a></li>
<li class="chapter" data-level="9.2" data-path="hardware.html"><a href="hardware.html#background-what-is-a-byte"><i class="fa fa-check"></i><b>9.2</b> Background: what is a byte?</a></li>
<li class="chapter" data-level="9.3" data-path="hardware.html"><a href="hardware.html#ram"><i class="fa fa-check"></i><b>9.3</b> Random access memory: RAM</a></li>
<li class="chapter" data-level="9.4" data-path="hardware.html"><a href="hardware.html#hard-drives-hdd-vs-ssd"><i class="fa fa-check"></i><b>9.4</b> Hard drives: HDD vs SSD</a></li>
<li class="chapter" data-level="9.5" data-path="hardware.html"><a href="hardware.html#operating-systems-32-bit-or-64-bit"><i class="fa fa-check"></i><b>9.5</b> Operating systems: 32-bit or 64-bit</a></li>
<li class="chapter" data-level="9.6" data-path="hardware.html"><a href="hardware.html#central-processing-unit-cpu"><i class="fa fa-check"></i><b>9.6</b> Central processing unit (CPU)</a></li>
<li class="chapter" data-level="9.7" data-path="hardware.html"><a href="hardware.html#cloud-computing"><i class="fa fa-check"></i><b>9.7</b> Cloud computing</a><ul>
<li class="chapter" data-level="9.7.1" data-path="hardware.html"><a href="hardware.html#amazon-ec2"><i class="fa fa-check"></i><b>9.7.1</b> Amazon EC2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html"><i class="fa fa-check"></i><b>10</b> Efficient collaboration</a><ul>
<li class="chapter" data-level="10.1" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#top-5-tips-for-efficient-collaboration"><i class="fa fa-check"></i><b>10.1</b> Top 5 tips for efficient collaboration</a></li>
<li class="chapter" data-level="10.2" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#coding-style"><i class="fa fa-check"></i><b>10.2</b> Coding style</a><ul>
<li class="chapter" data-level="10.2.1" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#reformatting-code-with-rstudio"><i class="fa fa-check"></i><b>10.2.1</b> Reformatting code with RStudio</a></li>
<li class="chapter" data-level="10.2.2" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#file-names"><i class="fa fa-check"></i><b>10.2.2</b> File names</a></li>
<li class="chapter" data-level="10.2.3" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#loading-packages"><i class="fa fa-check"></i><b>10.2.3</b> Loading packages</a></li>
<li class="chapter" data-level="10.2.4" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#commenting"><i class="fa fa-check"></i><b>10.2.4</b> Commenting</a></li>
<li class="chapter" data-level="10.2.5" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#object-names"><i class="fa fa-check"></i><b>10.2.5</b> Object names</a></li>
<li class="chapter" data-level="10.2.6" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#example-package"><i class="fa fa-check"></i><b>10.2.6</b> Example package</a></li>
<li class="chapter" data-level="10.2.7" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#assignment"><i class="fa fa-check"></i><b>10.2.7</b> Assignment</a></li>
<li class="chapter" data-level="10.2.8" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#spacing"><i class="fa fa-check"></i><b>10.2.8</b> Spacing</a></li>
<li class="chapter" data-level="10.2.9" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#indentation"><i class="fa fa-check"></i><b>10.2.9</b> Indentation</a></li>
<li class="chapter" data-level="10.2.10" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#curly-braces"><i class="fa fa-check"></i><b>10.2.10</b> Curly braces</a></li>
<li class="chapter" data-level="10.2.11" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#exercises-20"><i class="fa fa-check"></i><b>10.2.11</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#version-control"><i class="fa fa-check"></i><b>10.3</b> Version control</a><ul>
<li class="chapter" data-level="10.3.1" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#commits"><i class="fa fa-check"></i><b>10.3.1</b> Commits</a></li>
<li class="chapter" data-level="10.3.2" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#git-integration-in-rstudio"><i class="fa fa-check"></i><b>10.3.2</b> Git integration in RStudio</a></li>
<li class="chapter" data-level="10.3.3" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#github"><i class="fa fa-check"></i><b>10.3.3</b> GitHub</a></li>
<li class="chapter" data-level="10.3.4" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#branches-forks-pulls-and-clones"><i class="fa fa-check"></i><b>10.3.4</b> Branches, forks, pulls and clones</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="efficient-collaboration.html"><a href="efficient-collaboration.html#refactoring"><i class="fa fa-check"></i><b>10.4</b> Refactoring code</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="efficient-learning.html"><a href="efficient-learning.html"><i class="fa fa-check"></i><b>11</b> Efficient learning</a><ul>
<li class="chapter" data-level="11.1" data-path="efficient-learning.html"><a href="efficient-learning.html#top-5-tips-for-efficient-learning"><i class="fa fa-check"></i><b>11.1</b> Top 5 tips for efficient learning</a></li>
<li class="chapter" data-level="11.2" data-path="efficient-learning.html"><a href="efficient-learning.html#using-r-help"><i class="fa fa-check"></i><b>11.2</b> Using R help</a><ul>
<li class="chapter" data-level="11.2.1" data-path="efficient-learning.html"><a href="efficient-learning.html#reading-r-source-code"><i class="fa fa-check"></i><b>11.2.1</b> Reading R source code</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="efficient-learning.html"><a href="efficient-learning.html#online-resources"><i class="fa fa-check"></i><b>11.3</b> Online resources</a><ul>
<li class="chapter" data-level="11.3.1" data-path="efficient-learning.html"><a href="efficient-learning.html#stackoverflow"><i class="fa fa-check"></i><b>11.3.1</b> Stackoverflow</a></li>
<li class="chapter" data-level="11.3.2" data-path="efficient-learning.html"><a href="efficient-learning.html#mailing-lists-and-groups."><i class="fa fa-check"></i><b>11.3.2</b> Mailing lists and groups.</a></li>
<li class="chapter" data-level="11.3.3" data-path="efficient-learning.html"><a href="efficient-learning.html#asking-a-question"><i class="fa fa-check"></i><b>11.3.3</b> Asking a question</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="package-dependencies.html"><a href="package-dependencies.html"><i class="fa fa-check"></i><b>A</b> Package Dependencies</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="http://www.mas.ncl.ac.uk/~ncsg3/">Colin Gillespie</a>, Robin Lovelace</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Efficient R programming</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="efficient-collaboration" class="section level1">
<h1><span class="header-section-number">10</span> Efficient collaboration</h1>
<p>Large projects inevitably involve many people. This poses risks but also opportunities for improving computational efficiency and productivity, especially if project collaborators are reading and committing code. This chapter provides guidance on how to minimise the risks and maximise the benefits of collaborative R programming.</p>
<p>Collaborative working has a number of benefits. A team with a diverse skill set is usually stronger than a team with a very narrow focus. It makes sense to specialize: clearly defining roles such as statistician, front-end developer, system administrator and project manager will make your team stronger. Even if you are working alone, dividing the work into discrete branches in this way can be useful, as discussed in Chapter <a href="efficient-workflow.html#efficient-workflow">4</a>.</p>
<p>Collaborative programming provides an opportunity for people to review each other’s code. This can be encouraged by using a uniform style with many comments as described in Section <a href="efficient-collaboration.html#coding-style">10.2</a>. Like using a clear style in human language, following a style guide has the additional advantage of making your code more understandable to others.</p>
<p>When working on complex programming projects with multiple inter-dependencies version control is essential. Even on small projects tracking the progress of your project’s code-base has many advantages and makes collaboration much easier. Fortunately it is now easier than ever before to integrate version control into your project, using RStudio’s interface to the version control software <code>git</code> and online code sharing websites such as GitHub. This is the subject of Section <a href="efficient-collaboration.html#version-control">10.3</a>.</p>
<p>The final section, <a href="efficient-collaboration.html#refactoring">10.4</a>, addresses the question of how to respond when you find inefficient code. Refactoring is the process of re-writing poorly written or scripts so they are faster, more comprehensible, more portable and easier to maintain.</p>
<div id="top-5-tips-for-efficient-collaboration" class="section level2">
<h2><span class="header-section-number">10.1</span> Top 5 tips for efficient collaboration</h2>
<ul>
<li>Have a consistent coding style.</li>
<li>Think carefully about your comments and keep them up to date.</li>
<li>Use version control whenever possible.</li>
<li>Use informative commit messages.</li>
<li>Don’t be afraid to update (refactor) code when needed.</li>
</ul>
</div>
<div id="coding-style" class="section level2">
<h2><span class="header-section-number">10.2</span> Coding style</h2>
<p>To be a successful programmer you need to use a consistent programming style. There is no single ‘correct’ style. To some extent good style is subjective and down to personal taste. There are, however, general principles that most programmers agree on, such as:</p>
<ul>
<li>Use modular code;</li>
<li>Comment your code;</li>
<li>Don’t Repeat Yourself (DRY);</li>
<li>Be concise, clear and consistent.</li>
</ul>
<p>Good coding style will make you more efficient even if you are the only person who reads it. When your code is read by multiple readers or you are developing code with co-workers, having a consistent style is even more important. There are a number of R style guides online that are broadly similar, including one by <a href="https://google-styleguide.googlecode.com/svn/trunk/Rguide.xml">Google</a> and one by <a href="http://adv-r.had.co.nz/Style.html">Hadley Whickham</a>. The style followed in this book is based on a combination of Hadley Wickham’s guide and our own preferences (we follow Yihui Xie in preferring <code>=</code> to <code>&lt;-</code> for assignment, for example).</p>
<p>In-line with the principle of automation (automate any task that can save time by automating), the easiest way to improve your code is to ask your computer to do it, using RStudio.</p>
<div id="reformatting-code-with-rstudio" class="section level3">
<h3><span class="header-section-number">10.2.1</span> Reformatting code with RStudio</h3>
<p>RStudio can automatically clean up poorly indented and formatted code. To do this, select the lines that need to be formatted (e.g. via <code>Ctrl+A</code> to select the entire script) then automatically indent it with <code>Ctrl+I</code>. The shortcut <code>Ctrl+Shift+A</code> will reformat the code, adding spaces for maximum readability. An example is provided below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Poorly indented/formatted code</span>
if(!<span class="kw">exists</span>(<span class="st">&quot;x&quot;</span>)){
x=<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">5</span>)
y=x[<span class="dv">2</span>]}</code></pre></div>
<p>This code chunk works but is not pleasant to read. RStudio automatically indents the code after the <code>if</code> statement as follows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Automatically indented code (Ctrl+I in RStudio)</span>
if(!<span class="kw">exists</span>(<span class="st">&quot;x&quot;</span>)){
  x=<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">5</span>)
  y=x[<span class="dv">2</span>]}</code></pre></div>
<p>This is a start, but it’s still not easy to read. This can be fixed in RStudio as illustrated below (these options can be seen in the Code menu, accessed with <code>Alt+C</code> on Windows/Linux computers).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Automatically reformat the code (Ctrl+Shift+A in RStudio)</span>
if(!<span class="kw">exists</span>(<span class="st">&quot;x&quot;</span>)) {
  x =<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">5</span>)
  y =<span class="st"> </span>x[<span class="dv">2</span>]
  }</code></pre></div>
<p>Note that some aspects of style are subjective: we would not leave a space after the <code>if</code> and <code>)</code>.</p>
<!-- Another way to automate R code formatting is with the **formatR** package. The example below shows the above steps of indenting and formatting undertaken with a single function call. -->
<!-- ```{r} -->
<!-- formatR::tidy_source(text = 'if(!exists("x")){ -->
<!-- x=c(3,5) -->
<!-- y=x[2]}') -->
<!-- ``` -->
</div>
<div id="file-names" class="section level3">
<h3><span class="header-section-number">10.2.2</span> File names</h3>
<p>File names should use the <code>.R</code> extension and should be lower case (e.g. <code>load.R</code>). Avoid spaces. Use a dash or underscore to separate words.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Good names</span>
<span class="kw">normalise.R</span>
<span class="kw">load.R</span>
<span class="co"># Bad names</span>
<span class="kw">Normalise.r</span>
<span class="kw">load</span> data.R</code></pre></div>
</div>
<div id="loading-packages" class="section level3">
<h3><span class="header-section-number">10.2.3</span> Loading packages</h3>
<p>Library function calls should be at the top of your script. When loading an essential package, use <code>library</code> instead of <code>require</code> since a missing package will then raise an error. If a package isn’t essential, use <code>require</code> and appropriately capture the warning raised. Package names should be surrounded with speech marks.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Good</span>
<span class="kw">library</span>(<span class="st">&quot;ggplot2&quot;</span>)
<span class="co"># Bad</span>
<span class="kw">library</span>(ggplot2)</code></pre></div>
<p>Avoid listing every package you may need, instead just include the packages you actually use. If you find that you are loading a large number of packages, consider putting all packages in a file called <code>packages.R</code> and using <code>source</code> appropriately.</p>
</div>
<div id="commenting" class="section level3">
<h3><span class="header-section-number">10.2.4</span> Commenting</h3>
<p>Avoid using plain English to explain standard R code</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Setting x equal to 1</span>
x =<span class="st"> </span><span class="dv">1</span></code></pre></div>
<p>Instead comments should explain at a higher level of abstraction the programmer’s intention <span class="citation">(McConnell <a href="#ref-Mcconnell2004">2004</a>)</span>. Each comment line should begin with a single hash (<code>#</code>), followed by a space. Comments can be toggled (turned on and off) in this way with <code>Ctl+Shift+C</code> in RStudio. The double hash (<code>##</code>) can be reserved for R output. If you follow your comment with four dashes (<code># ----</code>) RStudio will enable code folding until the next instance of this.</p>
</div>
<div id="object-names" class="section level3">
<h3><span class="header-section-number">10.2.5</span> Object names</h3>
<p>Function and variable names should be lower case, with an underscore <code>(_)</code> separating words. Unless you are creating an S3 object, avoid using a <code>.</code> in the name. Create names that are concise, but still have meaning.</p>
<p>In functions the required arguments should always be first, followed by optional arguments, with the special <code>...</code> argument coming last. If your argument has a boolean value, use <code>TRUE</code>/<code>FALSE</code> instead of <code>T</code>/<code>F</code> for clarity.</p>
<div class="rmdwarning">
<p>
It’s tempting to use <code>T</code>/<code>F</code> as shortcuts. But it is easy to accidently redefine these variables, e.g. <code>F = 10</code>. R raises an error if you try to redefine <code>TRUE</code>/<code>FALSE</code>
</p>
</div>
<p>While it’s possible to write arguments that depend on other arguments, try to avoid using this idiom as it makes understanding the default behaviour harder to understand. Typically it’s easier to set an argument to have a default value of <code>NULL</code> and check its value using <code>is.null</code> than by using <code>missing</code>. Avoid using names of existing functions. Do not, for example, use <code>data</code> as a variable name.</p>
</div>
<div id="example-package" class="section level3">
<h3><span class="header-section-number">10.2.6</span> Example package</h3>
<p>The <code>lubridate</code> package is a good example of a package that has a consistent naming system, to make it easy for users to guess its features and behaviour. Dates are encoded in a variety of ways, but the <code>lubridate</code> package has a neat set of functions consisting of the three letters, <strong>y</strong>ear, <strong>m</strong>onth and <strong>d</strong>ay. For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;lubridate&quot;</span>)
<span class="kw">ymd</span>(<span class="st">&quot;2012-01-02&quot;</span>)
<span class="kw">dmy</span>(<span class="st">&quot;02-01-2012&quot;</span>)
<span class="kw">mdy</span>(<span class="st">&quot;01-02-2012&quot;</span>)</code></pre></div>
</div>
<div id="assignment" class="section level3">
<h3><span class="header-section-number">10.2.7</span> Assignment</h3>
<p>The two most common ways of assigning objects to values in R is with <code>&lt;-</code> and <code>=</code>. In most (but not all) contexts, they can be used interchangeably. Regardless of which operator you prefer, consistency is key, particularly when working in a group. In this book we use the <code>=</code> operator for assignment, as it’s faster to type and more consistent with other languages.</p>
<p>The one place where a difference occurs is during function calls. Consider the following piece of code used for timing random number generation</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.time</span>(expr1 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="fl">10e5</span>))
<span class="kw">system.time</span>(<span class="dt">expr2 =</span> <span class="kw">rnorm</span>(<span class="fl">10e5</span>)) <span class="co"># error</span></code></pre></div>
<p>The first lines will run correctly <strong>and</strong> create a variable called <code>expr1</code>. The second line will raise an error. When we use <code>=</code> in a function call, it changes from an <em>assignment</em> operator to an <em>argument passing</em> operator. For further information about assignment, see <code>?assignOps</code>.</p>
</div>
<div id="spacing" class="section level3">
<h3><span class="header-section-number">10.2.8</span> Spacing</h3>
<p>Consistent spacing is an easy way of making your code more readable. Even a simple command such as <code>x = x + 1</code> takes a bit more time to understand when the spacing is removed, i.e. <code>x=x+1</code>. You should add a space around the operators <code>+</code>, <code>-</code>, <code>\</code> and <code>*</code>. Include a space around the assignment operators, <code>&lt;-</code> and <code>=</code>. Additionally, add a space around any comparison operators such as <code>==</code> and <code>&lt;</code>. The latter rule helps avoid bugs</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Bug. x now equals 1</span>
x[x&lt;-<span class="dv">1</span>]
<span class="co"># Correct. Selecting values less than -1</span>
x[x &lt;<span class="st"> </span>-<span class="dv">1</span>]</code></pre></div>
<p>The exceptions to the space rule are <code>:</code>, <code>::</code> and <code>:::</code>, as well as <code>$</code> and <code>@</code> symbols for selecting sub-parts of objects. As with English, add a space after a comma, e.g.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z[z$colA &gt;<span class="st"> </span><span class="dv">1990</span>, ]</code></pre></div>
</div>
<div id="indentation" class="section level3">
<h3><span class="header-section-number">10.2.9</span> Indentation</h3>
<p>Use two spaces to indent code. Never mix tabs and spaces. RStudio can automatically convert the tab character to spaces (see <code>Tools -&gt; Global options -&gt; Code</code>).</p>
</div>
<div id="curly-braces" class="section level3">
<h3><span class="header-section-number">10.2.10</span> Curly braces</h3>
<p>Consider the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Bad style, fails</span>
if(x &lt;<span class="st"> </span><span class="dv">5</span>)
{ 
y} 
else {
  x}</code></pre></div>
<p>Typing this straight into R will result in an error. An opening curly brace, <code>{</code> should not go on its own line and should always be followed by a line break. A closing curly brace should always go on its own line (unless it’s followed by an <code>else</code>, in which case the <code>else</code> should go on its own line). The code inside a curly braces should be indented (and RStudio will enforce this rule), as shown below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Good style</span>
if(x &lt;<span class="st"> </span><span class="dv">5</span>){
  x
} else {
  y
}</code></pre></div>
</div>
<div id="exercises-20" class="section level3">
<h3><span class="header-section-number">10.2.11</span> Exercises</h3>
<p>Look at the difference between your style and RStudio’s based on a representative R script that you have written (see Section <a href="efficient-collaboration.html#coding-style">10.2</a>). What are the similarities? What are the differences? Are you consistent? Write these down and think about how you can use the results to improve your coding style.</p>
</div>
</div>
<div id="version-control" class="section level2">
<h2><span class="header-section-number">10.3</span> Version control</h2>
<p>When a project gets large, complicated or mission-critical it is important to keep track of how it evolves. In the same way that Dropbox saves a ‘backup’ of your files, version control systems keep a backup of your code. The only difference is that version control systems back-up your code <em>forever</em>.</p>
<p>The version control system we recommend is Git, a command-line application created by Linus Torvalds, who also invented Linux.<a href="#fn23" class="footnoteRef" id="fnref23"><sup>23</sup></a> The easiest way to integrate your R projects with Git, if you’re not accustomed to using a shell (e.g. the Unix command line), is with RStudio’s Git tab, in the top right-hand window (see Figure <a href="efficient-collaboration.html#fig:rstudio-git">10.1</a>). This shows a number of files have been modified (as illustrated with the blue M symbol) and that some are new (as illustrated with the yellow ? symbol). Checking the tick-box will enable these files to be <em>committed</em>.</p>
<div id="commits" class="section level3">
<h3><span class="header-section-number">10.3.1</span> Commits</h3>
<p>Commits are the basic units of version control. Keep your commits ‘atomic’: each one should only do one thing. Document your work with clear and concise commit messages, use the present tense, e.g.: ‘Add analysis functions’.</p>
<p>Committing code only updates the files on your ‘local’ branch. To update the files stored on a remote server (e.g. on GitHub), you mush ‘push’ the commit. This can be done using <code>git push</code> from a shell or using the green up arrow in RStudio, illustrated in Figure <a href="efficient-collaboration.html#fig:rstudio-git">10.1</a>. The blue down arrow will ‘pull’ the latest version of the repository from the remote.<a href="#fn24" class="footnoteRef" id="fnref24"><sup>24</sup></a></p>
<div class="figure"><span id="fig:rstudio-git"></span>
<img src="figures/rstudio-git.png" alt="The Git tab in RStudio" width="293" />
<p class="caption">
Figure 10.1: The Git tab in RStudio
</p>
</div>
</div>
<div id="git-integration-in-rstudio" class="section level3">
<h3><span class="header-section-number">10.3.2</span> Git integration in RStudio</h3>
<p>How to enable this functionality on your installation of RStudio? RStudio can be a GUI Git only if Git has been installed <em>and</em> RStudio can find it. You need a working installation of Git (e.g. installed through <code>apt-get install git</code> Ubuntu/Debian or via <a href="https://help.github.com/desktop/guides/getting-started/installing-github-desktop/">GitHub Desktop</a> for Mac and Windows). RStudio can be linked to your Git installation via Tools &gt; Global Options, in the Git/SVN tab. This tab also provides a <a href="https://support.rstudio.com/hc/en-us/articles/200532077">link</a> to a help page on RStudio/Git.</p>
<p>Once Git has been linked to your RStudio installation, it can be used to track changes in a new project by selecting <code>Create a git repository</code> when creating a new project. The tab illustrated in Figure <a href="efficient-collaboration.html#fig:rstudio-git">10.1</a> will appear, allowing functionality for interacting with Git via RStudio.</p>
<p>RStudio provides a useful GUI for navigating past commits. This allows you to see the entire history of your project. To navigate and view the details of past commits click on the Diff button in the Git pane, as illustrated in Figure <a href="efficient-collaboration.html#fig:rstudio-githist">10.2</a>.</p>
<div class="figure"><span id="fig:rstudio-githist"></span>
<img src="figures/rstudio-githist.png" alt="The Git history navigation interface" width="\textwidth" />
<p class="caption">
Figure 10.2: The Git history navigation interface
</p>
</div>
</div>
<div id="github" class="section level3">
<h3><span class="header-section-number">10.3.3</span> GitHub</h3>
<p>GitHub is an online platform that makes sharing your work and collaborative code easy. There are alternatives such as <a href="https://about.gitlab.com/">GitLab</a>. The focus here is on GitHub as it’s by far the most popular among R developers. Also, through the command <code>devtools::install_github()</code>, preview versions of a package can be installed and updated in an instant. This makes ‘GitHub packages’ a great way to access the latest functionality. And GitHub makes it easy to get your work ‘out there’ to the world for efficiently collaborating with others, without the restraints placed on CRAN packages.</p>
<p>To install the GitHub version of the <strong>benchmarkme</strong> package, for example one would enter</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">install_github</span>(<span class="st">&quot;csgillespie/benchmarkme&quot;</span>)</code></pre></div>
<p>Note that <code>csgillespie</code> is the GitHub user and <code>benchmarkme</code> is the package name. Replacing <code>csgillespie</code> with <code>robinlovelace</code> in the above code would install Robin’s version of the package. This is useful for fast collaboration with many people, but you must remember that GitHub packages will not update automatically with the command <code>update.packages</code> (see <a href="efficient-set-up.html#updating-r-packages">2.3.5</a>).</p>
<div class="rmdcaution">
<p>
Warning: although GitHub is fantastic for collaboration, it can end up creating more problems than it solves if your collaborators are not git-literate. In one project, Robin eventually abandoned using GitHub to collaborate after his collaborator found it impossible to work with. More time was being spent debugging git/GitHub than actually working. Our advice therefore is to <strong>never impose git</strong> and always ensure that other lines of communication (e.g. phone calls, emails) are open as different people prefer different ways of communicating.
</p>
</div>
</div>
<div id="branches-forks-pulls-and-clones" class="section level3">
<h3><span class="header-section-number">10.3.4</span> Branches, forks, pulls and clones</h3>
<p>Git is a large program which takes a long time to learn in depth. However, getting to grips with the basics of some of its more advanced functions can make you a more efficient collaborator. Using and merging branches, for example, can make you work more scalable but testing new features in a self-contained environment before it is used in production (e.g. when shifting to an updated version of a package which is not backwards compatible). Instead of bogging you down with a comprehensive discussion of what is possible, this section cuts to the most important features for collaboration: branches, forks, fetches and clones. For a more detailed description of Git’s powerful functionality, we recommend the book Pro Git, which is available online at <a href="https://git-scm.com/book/en/v2">git-scm.com/book/</a>.</p>
<p>Branches are distinct versions of your repository. Git allows you jump seamlessly between different versions of your entire project. To create a new branch called test, you need to enter the shell and use the Git command line:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">git</span> checkout -b test</code></pre></div>
<p>This is equivalent of entering two commands: <code>git branch test</code> to create the branch and then <code>git checkout test</code> to <em>checkout</em> that branch. Checkout means switch into that branch. Any changes will not affect your previous branch. In RStudio you can jump quickly between branches using the drop down menu in the top right of the Git pane. This is illustrated in Figure <a href="efficient-collaboration.html#fig:rstudio-git">10.1</a>: see the <code>master</code> text followed by a down arrow. Clicking on this will allow you to select other branches.</p>
<p>Forks are like branches but they exist on other people’s computers. You can fork a repository on GitHub easily, as described on the site’s <a href="https://help.github.com/articles/fork-a-repo/">help pages</a>. If you want an exact copy of this repository (including the commit history) you can <em>clone</em> this fork to your computer using the command <code>git clone</code> or by using a Git GUI such as GitHub Desktop. This is preferable from a collaboration perspective than cloning the repository directly, because any changes can be pushed back online easily if you are working from your own fork. You cannot push to forks that you have not created. If you want your work to be incorporated into the original fork you can use a <em>pull request</em>. Note: if you don’t need the project’s entire commit history, you can simply download a zip file containing the latest version of the repository from GitHub (see at the top right of any GitHub repository).</p>
<p>A pull request (PR) is a mechanism on GitHub by which your code can be added to an existing project. One of the most useful features of a PR from a collaboration perspective is that it provides an opportunity for others to comment on your code, line by line, before it gets merged. This is all done online on GitHub, as discussed in <a href="https://help.github.com/articles/merging-a-pull-request/">GitHub’s online help</a>. Following feedback, you may want to refactor code, written by you or others.</p>
</div>
</div>
<div id="refactoring" class="section level2">
<h2><span class="header-section-number">10.4</span> Refactoring code</h2>
<p>It is likely that your skills as an R programmer will improve over time (e.g. after reading books such as this!). Furthermore, as R packages evolve, the best way to accomplish a task 6 months ago may not be the best way to accomplish it now. Thus it is likely that you will want to rewrite your code at some point. From a collaboration perspective, you may also need to adapt someone else’s code to be more efficient. This is <em>refactoring</em>.</p>
<p>An example would be messy code that creates many objects and uses overlapping packages. The refactored code would be much clearer, efficient and more concise. There is no ‘magic bullet’ formula to refactor code, but a <a href="https://en.wikipedia.org/wiki/Code_refactoring">series of techniques</a> can be used, including improving variable names, breaking the code into smaller, more modular chunks and making the code more abstract and generalisable. Refactoring it is a skill that you will learn over time. Good practice involves frequently updating your code - that will get you into the habit of reading code at a ‘high level’ so you identify quickly its key components and hopefully write it in a better form.</p>
<p>Let’s use some code introduced in Chapter 5 as an example of something that could be written more efficiently:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># old code</span>
fname =<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata/ghg-ems.csv&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;efficient&quot;</span>)
co2_ems =<span class="st"> </span><span class="kw">read.csv</span>(fname)
<span class="kw">names</span>(co2_ems) =<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">..*&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="kw">names</span>(co2_ems)) 
e_ems =<span class="st"> </span><span class="kw">aggregate</span>(co2_ems$Electricity, <span class="kw">list</span>(co2_ems$Country),
                  mean, <span class="dt">data =</span> co2_ems)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># new code</span>
<span class="kw">library</span>(<span class="st">&quot;dplyr&quot;</span>)
fname =<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata/ghg-ems.csv&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;efficient&quot;</span>)
co2_ems =<span class="st"> </span>readr::<span class="kw">read_csv</span>(fname)
co2_elec_agg =<span class="st"> </span><span class="kw">group_by</span>(co2_ems, Country) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Elec =</span> <span class="kw">mean</span>(<span class="st">`</span><span class="dt">Electricity/Heat (CO2) (MtCO2)</span><span class="st">`</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</code></pre></div>
<p>Although both approaches generate the same output data using the same number of lines of code (5), the new, refactored code is better in a number of ways. It is more efficient to type (containing 10 fewer characters) and more efficient to run (it is around 20% faster). More importantly, the refactored code is more readable and easily extended, which is a vital consideration from the perspective of efficient collaboration. Adding the following line after the penultimate bracket in the second code chunk would create a new aggregate variable, for example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">, Trans =<span class="st"> </span><span class="kw">mean</span>(<span class="st">`</span><span class="dt">Transportation (CO2) (MtCO2)</span><span class="st">`</span>, <span class="dt">na.rm=</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>Furthermore, by using the origin column names, the refactored code remains more faithful to the source data. The benefits of being explicit and verbose (i.e. including the units in the variable names) will likely outweigh the costs of additional characters in the analysis process when it comes to publishing the results.</p>
<div class="rmdnote">
<p>
Note that the number of lines of code is not a good measure of code efficiency. Clear and easily readable that is many lines of code is better than code that is compressed into a few lines that is tricky to read. Do not be afraid to make functions with multiple arguments more than one line. The <code>%&gt;%</code> pipe operator encourages multi-line code that is easy to read. The number of <em>characters</em> in code is a better measure, but is still an imperfect measure of efficiency, let alone readability.
</p>
</div>
<div id="exercise-7" class="section level4 unnumbered">
<h4>Exercise</h4>
<p>Refactor the following code chunk to make it more efficient:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df =<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">letters =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>),
  <span class="dt">numbers =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)
)
<span class="kw">aggregate</span>(df$numbers, <span class="kw">list</span>(df$letters), sum)
<span class="co">#&gt;   Group.1  x</span>
<span class="co">#&gt; 1       a  3</span>
<span class="co">#&gt; 2       b  7</span>
<span class="co">#&gt; 3       c 11</span></code></pre></div>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Mcconnell2004">
<p>McConnell, Steve. 2004. <em>Code Complete</em>. Pearson Education.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="23">
<li id="fn23"><p>We recommend ‘10 Years of Git: An Interview with Git Creator Linus Torvalds’ from <a href="http://www.linux.com/news/featured-blogs/185-jennifer-cloer/821541-10-years-of-git-an-interview-with-git-creator-linus-torvalds">Linux.com</a> for more information on this topic.<a href="efficient-collaboration.html#fnref23">↩</a></p></li>
<li id="fn24"><p>For a more detailed account of this process, see <a href="https://help.github.com/">GitHub’s help pages</a>.<a href="efficient-collaboration.html#fnref24">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="hardware.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="efficient-learning.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/csgillespie/efficientR/edit/master/10-collaboration.Rmd",
"text": "Edit"
},
"download": ["_main.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
